{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"C:/Users/leand/Documents/workspace/loop-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/Users/leand/Documents/workspace/loop-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/leand/Documents/workspace/loop-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/leand/Documents/workspace/loop-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/leand/Documents/workspace/loop-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/leand/Documents/workspace/loop-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Redirect}from'react-router-dom';import AuthService from'../api/AuthService';import Alert from'./Alert';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.state={username:\"\",password:\"\",alert:null,processing:false,loggedIn:false};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleInputChanged=_this.handleInputChanged.bind(_assertThisInitialized(_this));_this.handleLoginReponse=_this.handleLoginReponse.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"handleSubmit\",value:function handleSubmit(event){event.preventDefault();this.setState({processing:true});AuthService.login(this.state.username,this.state.password,this.handleLoginReponse);}},{key:\"handleLoginReponse\",value:function handleLoginReponse(success){if(success){this.setState({loggedIn:true,processing:false});this.props.onLoginSuccess();}else{this.setState({alert:\"O login não pode ser realizado\",processing:false});}}},{key:\"handleInputChanged\",value:function handleInputChanged(event){var field=event.target.name;var value=event.target.value;this.setState(_defineProperty({},field,value));}},{key:\"render\",value:function render(){if(AuthService.isAuthenticated()||this.state.loggedIn){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\" Login \"}),this.state.alert!==null?/*#__PURE__*/_jsx(Alert,{message:this.state.alert}):\"\",/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Usu\\xE1rio\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",onChange:this.handleInputChanged,value:this.state.username,name:\"username\",placeholder:\"Digite o usu\\xE1rio\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Senha\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",onChange:this.handleInputChanged,value:this.state.password,name:\"password\",placeholder:\"Digite a senha\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:this.state.processing,children:\"Login\"})]})]});}}]);return Login;}(Component);export{Login as default};","map":{"version":3,"sources":["C:/Users/leand/Documents/workspace/loop-frontend/src/components/Login.js"],"names":["React","Component","Redirect","AuthService","Alert","Login","props","state","username","password","alert","processing","loggedIn","handleSubmit","bind","handleInputChanged","handleLoginReponse","event","preventDefault","setState","login","success","onLoginSuccess","field","target","name","value","isAuthenticated"],"mappings":"okCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,oBAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,C,GAEqBC,CAAAA,K,8FAEjB,eAAYC,KAAZ,CAAmB,uCACf,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACTC,QAAQ,CAAE,EADD,CAETC,QAAQ,CAAE,EAFD,CAGTC,KAAK,CAAE,IAHE,CAITC,UAAU,CAAE,KAJH,CAKTC,QAAQ,CAAE,KALD,CAAb,CAQA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,kBAAL,CAA0B,MAAKA,kBAAL,CAAwBD,IAAxB,+BAA1B,CACA,MAAKE,kBAAL,CAA0B,MAAKA,kBAAL,CAAwBF,IAAxB,+BAA1B,CAbe,aAclB,C,oEAEYG,K,CAAO,CAChBA,KAAK,CAACC,cAAN,GACA,KAAKC,QAAL,CAAc,CAACR,UAAU,CAAE,IAAb,CAAd,EACAR,WAAW,CAACiB,KAAZ,CAAkB,KAAKb,KAAL,CAAWC,QAA7B,CAAuC,KAAKD,KAAL,CAAWE,QAAlD,CAA4D,KAAKO,kBAAjE,EAEH,C,8DAEkBK,O,CAAS,CACxB,GAAIA,OAAJ,CAAa,CACT,KAAKF,QAAL,CAAc,CAAEP,QAAQ,CAAE,IAAZ,CAAkBD,UAAU,CAAE,KAA9B,CAAd,EACA,KAAKL,KAAL,CAAWgB,cAAX,GACH,CAHD,IAGM,CACF,KAAKH,QAAL,CAAc,CAACT,KAAK,CAAE,gCAAR,CAA0CC,UAAU,CAAE,KAAtD,CAAd,EACH,CAEJ,C,8DAEkBM,K,CAAM,CACrB,GAAMM,CAAAA,KAAK,CAAGN,KAAK,CAACO,MAAN,CAAaC,IAA3B,CACA,GAAMC,CAAAA,KAAK,CAAGT,KAAK,CAACO,MAAN,CAAaE,KAA3B,CACA,KAAKP,QAAL,oBAAiBI,KAAjB,CAAyBG,KAAzB,GAEH,C,uCAEQ,CAEL,GAAIvB,WAAW,CAACwB,eAAZ,IAAiC,KAAKpB,KAAL,CAAWK,QAAhD,CAA0D,CACtD,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAP,CAEH,CAED,mBACI,oCACI,+BADJ,CAEK,KAAKL,KAAL,CAAWG,KAAX,GAAqB,IAArB,cAA4B,KAAC,KAAD,EAAO,OAAO,CAAE,KAAKH,KAAL,CAAWG,KAA3B,EAA5B,CAAmE,EAFxE,cAGI,cAAM,QAAQ,CAAE,KAAKG,YAArB,wBACI,aAAK,SAAS,CAAC,YAAf,wBACI,cAAO,OAAO,CAAC,UAAf,wBADJ,cAEI,cACI,IAAI,CAAC,MADT,CAEI,SAAS,CAAC,cAFd,CAGI,QAAQ,CAAE,KAAKE,kBAHnB,CAII,KAAK,CAAE,KAAKR,KAAL,CAAWC,QAJtB,CAKI,IAAI,CAAC,UALT,CAMI,WAAW,CAAC,qBANhB,EAFJ,GADJ,cAYI,aAAK,SAAS,CAAC,YAAf,wBACI,cAAO,OAAO,CAAC,UAAf,mBADJ,cAEI,cACI,IAAI,CAAC,UADT,CAEI,SAAS,CAAC,cAFd,CAGI,QAAQ,CAAE,KAAKO,kBAHnB,CAII,KAAK,CAAE,KAAKR,KAAL,CAAWE,QAJtB,CAKI,IAAI,CAAC,UALT,CAMI,WAAW,CAAC,gBANhB,EAFJ,GAZJ,cAwBI,aAxBJ,cAyBI,eACA,IAAI,CAAC,QADL,CAEA,SAAS,CAAC,iBAFV,CAGA,QAAQ,CAAE,KAAKF,KAAL,CAAWI,UAHrB,mBAzBJ,GAHJ,GADJ,CAqCH,C,mBAtF8BV,S,SAAdI,K","sourcesContent":["import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport AuthService from '../api/AuthService';\r\nimport Alert from './Alert';\r\n\r\nexport default class Login extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\",\r\n            alert: null,\r\n            processing: false,\r\n            loggedIn: false\r\n        }\r\n\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleInputChanged = this.handleInputChanged.bind(this);\r\n        this.handleLoginReponse = this.handleLoginReponse.bind(this);\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        this.setState({processing: true});\r\n        AuthService.login(this.state.username, this.state.password, this.handleLoginReponse);\r\n        \r\n    }\r\n\r\n    handleLoginReponse(success) {\r\n        if (success) {\r\n            this.setState({ loggedIn: true, processing: false });\r\n            this.props.onLoginSuccess();    \r\n        }else {\r\n            this.setState({alert: \"O login não pode ser realizado\", processing: false });\r\n        }\r\n\r\n    }\r\n\r\n    handleInputChanged(event){\r\n        const field = event.target.name;\r\n        const value = event.target.value;\r\n        this.setState({ [field]: value });\r\n        \r\n    }\r\n\r\n    render() {\r\n\r\n        if (AuthService.isAuthenticated() || this.state.loggedIn) {\r\n            return <Redirect to=\"/\" />;\r\n            \r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <h1> Login </h1>\r\n                {this.state.alert !== null ? <Alert message={this.state.alert} /> : \"\"}\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"username\">Usuário</label>\r\n                        <input \r\n                            type=\"text\" \r\n                            className=\"form-control\"\r\n                            onChange={this.handleInputChanged}\r\n                            value={this.state.username}\r\n                            name=\"username\"\r\n                            placeholder=\"Digite o usuário\"\r\n                            />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"password\">Senha</label>\r\n                        <input \r\n                            type=\"password\" \r\n                            className=\"form-control\"\r\n                            onChange={this.handleInputChanged}\r\n                            value={this.state.password}\r\n                            name=\"password\"\r\n                            placeholder=\"Digite a senha\"\r\n                            />\r\n\r\n                    </div>\r\n                    <br/>\r\n                    <button\r\n                    type=\"submit\" \r\n                    className=\"btn btn-primary\"\r\n                    disabled={this.state.processing}>\r\n                    Login</button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}