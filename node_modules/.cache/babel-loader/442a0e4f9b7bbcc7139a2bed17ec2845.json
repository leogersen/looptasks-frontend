{"ast":null,"code":"import axios from \"axios\";\nimport { API_ENDPOINT } from \"../constants\";\nimport AuthService from \"./AuthService\";\n\nclass TaskService {\n  list(onFetch, onError) {\n    axios.get(`${API_ENDPOINT}/tasks?sort=whenToDo,asc`, this.buildAuthHeader()).then(response => onFetch(response.data.content)).catch(e => onError(e));\n  }\n\n  load(id, onLoad, onError) {\n    axios.get(`${API_ENDPOINT}/tasks/${id}`, this.buildAuthHeader()).then(response => onLoad(response.data)).catch(e => onError(e));\n  }\n\n  delete(id, onDelete, onError) {\n    axios.delete(`${API_ENDPOINT}/tasks/${id}`, this.buildAuthHeader()).then(() => onDelete()).catch(e => onError(e));\n  }\n\n  save(task, onSave, onError) {\n    if (task.id === 0) {\n      axios.post(`${API_ENDPOINT}/tasks`, task, this.buildAuthHeader()).then(() => onSave()).catch(e => onError(e));\n    } else {\n      axios.put(`${API_ENDPOINT}/tasks/${task.id}`, task, this.buildAuthHeader()).then(() => onSave()).catch(e => onError(e));\n    }\n  }\n\n  buildAuthHeader() {\n    return {\n      headers: {\n        \"authorization\": `Bearer ${AuthService.getJWTToken()}`\n      }\n    };\n  }\n\n}\n\nexport default new TaskService();","map":{"version":3,"sources":["C:/Users/leand/Documents/workspace/loop-frontend/src/api/TaskService.js"],"names":["axios","API_ENDPOINT","AuthService","TaskService","list","onFetch","onError","get","buildAuthHeader","then","response","data","content","catch","e","load","id","onLoad","delete","onDelete","save","task","onSave","post","put","headers","getJWTToken"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,cAA7B;AACA,OAAOC,WAAP,MAAwB,eAAxB;;AAEA,MAAMC,WAAN,CAAkB;AAGdC,EAAAA,IAAI,CAACC,OAAD,EAAUC,OAAV,EAAmB;AACnBN,IAAAA,KAAK,CACJO,GADD,CACM,GAAEN,YAAa,0BADrB,EACgD,KAAKO,eAAL,EADhD,EAECC,IAFD,CAEMC,QAAQ,IAAIL,OAAO,CAACK,QAAQ,CAACC,IAAT,CAAcC,OAAf,CAFzB,EAGCC,KAHD,CAGOC,CAAC,IAAIR,OAAO,CAACQ,CAAD,CAHnB;AAKH;;AAEDC,EAAAA,IAAI,CAACC,EAAD,EAAKC,MAAL,EAAaX,OAAb,EAAsB;AACtBN,IAAAA,KAAK,CACJO,GADD,CACM,GAAEN,YAAa,UAASe,EAAG,EADjC,EACoC,KAAKR,eAAL,EADpC,EAECC,IAFD,CAEMC,QAAQ,IAAIO,MAAM,CAACP,QAAQ,CAACC,IAAV,CAFxB,EAGCE,KAHD,CAGOC,CAAC,IAAIR,OAAO,CAACQ,CAAD,CAHnB;AAIH;;AAEDI,EAAAA,MAAM,CAACF,EAAD,EAAKG,QAAL,EAAeb,OAAf,EAAwB;AAC1BN,IAAAA,KAAK,CACJkB,MADD,CACS,GAAEjB,YAAa,UAASe,EAAG,EADpC,EACuC,KAAKR,eAAL,EADvC,EAECC,IAFD,CAEM,MAAMU,QAAQ,EAFpB,EAGCN,KAHD,CAGOC,CAAC,IAAIR,OAAO,CAACQ,CAAD,CAHnB;AAKH;;AAEDM,EAAAA,IAAI,CAACC,IAAD,EAAOC,MAAP,EAAehB,OAAf,EAAwB;AACxB,QAAIe,IAAI,CAACL,EAAL,KAAY,CAAhB,EAAmB;AACfhB,MAAAA,KAAK,CACAuB,IADL,CACW,GAAEtB,YAAa,QAD1B,EACmCoB,IADnC,EACyC,KAAKb,eAAL,EADzC,EAEKC,IAFL,CAEU,MAAMa,MAAM,EAFtB,EAGKT,KAHL,CAGWC,CAAC,IAAIR,OAAO,CAACQ,CAAD,CAHvB;AAIH,KALD,MAKM;AACFd,MAAAA,KAAK,CACAwB,GADL,CACU,GAAEvB,YAAa,UAASoB,IAAI,CAACL,EAAG,EAD1C,EAC6CK,IAD7C,EACmD,KAAKb,eAAL,EADnD,EAEKC,IAFL,CAEU,MAAMa,MAAM,EAFtB,EAGKT,KAHL,CAGWC,CAAC,IAAIR,OAAO,CAACQ,CAAD,CAHvB;AAIH;AACJ;;AAEDN,EAAAA,eAAe,GAAG;AACd,WAAO;AACHiB,MAAAA,OAAO,EAAE;AACL,yBAAkB,UAASvB,WAAW,CAACwB,WAAZ,EAA0B;AADhD;AADN,KAAP;AAKH;;AA9Ca;;AAiDlB,eAAe,IAAIvB,WAAJ,EAAf","sourcesContent":["import axios from \"axios\";\r\nimport { API_ENDPOINT } from \"../constants\";\r\nimport AuthService from \"./AuthService\";\r\n\r\nclass TaskService {\r\n\r\n\r\n    list(onFetch, onError) {\r\n        axios\r\n        .get(`${API_ENDPOINT}/tasks?sort=whenToDo,asc`, this.buildAuthHeader())\r\n        .then(response => onFetch(response.data.content))\r\n        .catch(e => onError(e));\r\n\r\n    }\r\n\r\n    load(id, onLoad, onError) {\r\n        axios\r\n        .get(`${API_ENDPOINT}/tasks/${id}`, this.buildAuthHeader())\r\n        .then(response => onLoad(response.data))\r\n        .catch(e => onError(e));\r\n    }\r\n\r\n    delete(id, onDelete, onError) {\r\n        axios\r\n        .delete(`${API_ENDPOINT}/tasks/${id}`, this.buildAuthHeader())\r\n        .then(() => onDelete())\r\n        .catch(e => onError(e));\r\n        \r\n    }\r\n\r\n    save(task, onSave, onError) {\r\n        if (task.id === 0) {\r\n            axios\r\n                .post(`${API_ENDPOINT}/tasks`, task, this.buildAuthHeader())\r\n                .then(() => onSave())\r\n                .catch(e => onError(e));\r\n        }else {\r\n            axios\r\n                .put(`${API_ENDPOINT}/tasks/${task.id}`, task, this.buildAuthHeader())\r\n                .then(() => onSave())\r\n                .catch(e => onError(e));\r\n        }\r\n    }\r\n    \r\n    buildAuthHeader() {\r\n        return {\r\n            headers: {\r\n                \"authorization\": `Bearer ${AuthService.getJWTToken()}`\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\nexport default new TaskService();\r\n"]},"metadata":{},"sourceType":"module"}